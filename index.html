<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  

  <input type="password" id="psw" maxlength="20" placeholder="请输入密码">
  <button id="pswBtn" onclick="confirm()">确认密码</button>

  <div class="info-box" id="info-box" style="visibility:hidden;">
    <ul>
      <li>姓名：<input type="text" id="name"></li>
      <li>学号：<input type="text" id="number"></li>
      <li>性别：<input type="text" id="gender"></li>
      <li>年级：<input type="text" id="grade"></li>
      <li>学院：<input type="text" id="collage"></li>
      <li>专业：<input type="text" id="spec"></li>
      <li>班级：<input type="text" id="className"></li>
      <li>宿舍：<input type="text" id="home"></li>
    </ul>
    <button id="formBtn" onclick="saveInfo()">确定</button>
  </div>
  <textarea rows="10" readonly cols="50" style="font-size:20px; color:#ff0000">
  最近，我在后台发现这个程序的使用
  人数已经有好几百人了，但是真正从
  我这里购买的仅有几十个人。我觉得
  自己的权益受到了很大的伤害，同时
  也给我带来了很大的损失！！！
  所以，我在此声明一下： 
  本程序仅售15元，永久使用包售后。
  程序的制作和维护都不容易，希望
  大家支持可以支持正版，感谢！！！  
  请认准本人唯一QQ：737379109
  
  </textarea>
  <script>
    let password = '123qwe'
    function confirm() {
      let psw = document.getElementById('psw').value
      if(password == psw) {
        document.getElementById('info-box').style.visibility = 'visible'
      } else {
        alert('密码错误')
      }
    }
    let stu_info = {
      name: '', number: '', gender: '', grade: '', collage: '', spec: '', className: '', home: ''
    }
    if(window.localStorage.getItem('stu_info')){
      stu_info = JSON.parse(window.localStorage.getItem('stu_info'))
      document.getElementById('name').value = stu_info.name
      document.getElementById('number').value = stu_info.number
      document.getElementById('gender').value = stu_info.gender
      document.getElementById('grade').value = stu_info.grade
      document.getElementById('collage').value = stu_info.collage
      document.getElementById('spec').value = stu_info.spec 
      document.getElementById('className').value = stu_info.className 
      document.getElementById('home').value =stu_info.home
    }
    function saveInfo() {
      stu_info.name = document.getElementById('name').value
      stu_info.number = document.getElementById('number').value
      stu_info.gender = document.getElementById('gender').value
      stu_info.grade = document.getElementById('grade').value
      stu_info.collage = document.getElementById('collage').value
      stu_info.spec = document.getElementById('spec').value
      stu_info.className = document.getElementById('className').value
      stu_info.home = document.getElementById('home').value
      window.localStorage.setItem('stu_info', JSON.stringify(stu_info))
      window.location.href = './info.html'
    }
  </script>
</body>
</html>
